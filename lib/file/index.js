"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});function o(t,e){return new Promise((r,i)=>{const n=new FileReader;n["readAs"+e](t),n.onload=l=>{r(l.target.result)},n.onerror=l=>{i(l)}})}async function c(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;const r=typeof e=="string",i=e&&e.length;try{const n=[],l=await window.showOpenFilePicker(t);for(const u of l){const s=await u.getFile();if(e){const a={file:s};if(r)a[e]=await o(s,e);else if(i)for(let g=0;g<i;g++){const f=e[g];a[f]=await o(s,f)}n.push(a);continue}n.push(s)}return n}catch(n){return Promise.reject(n)}}async function F(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"DataURL";const r=typeof e=="string",i=e&&e.length;try{const n=[];for(const l of t){const u={file:l};if(r)u[e]=await o(l,e);else if(i)for(let s=0;s<i;s++){const a=e[s];u[a]=await o(l,a)}n.push(u)}return n}catch(n){return Promise.reject(n)}}const x={img:[{description:"选择图片",accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}],excel:[{description:"选择excel表格",accept:{"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]}}],xml:[{description:"选择xml文件",accept:{"xml/*":[".xml"]}}],pdf:[{description:"选择PDF文件",accept:{"application/vnd.sealedmedia.softseal.pdf":[".pdf"]}}],zip:[{description:"选择压缩文件",accept:{"application/zip":[".zip"],"application/x-7z-compressed":[".7z"],"application/x-rar-compressed":[".rar"]}}],video:[{description:"选择视频文件",accept:{"video/*":[]}}]};function d(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{types:x[t],excludeAcceptAllOption:!0,multiple:e}}async function v(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return c({...d("img"),...t},e)}async function w(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return c({...d("video"),...t},e)}async function b(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return c({...d("excel"),...t},e)}async function A(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return c({...d("xml"),...t},e)}async function P(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return c({...d("pdf"),...t},e)}async function S(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return c({...d("zip"),...t},e)}async function m(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return new Promise((r,i)=>{try{const n=document.createElement("input");n.type="file",t.multiple&&(n.multiple="multiple"),n.accept=t.accept,n.onchange=async l=>{const u=[...l.target.files];if(e){const s=[];for(let a=0;a<u.length;a++){const g=u[a],f={file:g};if(typeof e=="string")f[e]=await o(g,e);else if(e.length)for(let p=0;p<e.length;p++){const h=e[p];f[h]=await o(g,h)}s.push(f)}r(s)}else r(u)},n.click()}catch(n){i(n)}})}async function T(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return m({...t,accept:"image/*"},e)}async function U(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return m({...t,accept:"video/*"},e)}async function B(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return m({...t,accept:".xls,.xlsx"},e)}async function I(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return m({...t,accept:"xml/*"},e)}async function R(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return m({...t,accept:".pdf"},e)}async function z(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{multiple:!1},e=arguments.length>1?arguments[1]:void 0;return m({...t,accept:".zip,.rar,.7z"},e)}function y(t,e){const r=document.createElement("a");r.href=t,r.download=e,r.click()}function L(t,e){const r=URL.createObjectURL(t);y(r,e),setTimeout(()=>{URL.revokeObjectURL(r)},5e3)}function j(t){const e=t.split(","),r=window.atob(e[1]),i=e[0].match(/:(.*?);/)[1],n=new Uint8Array(r.length);for(var l=0;l<r.length;l++)n[l]=r.charCodeAt(l);return new Blob([n],{type:i})}function C(t){const e=new Uint8Array(t);let r="";for(let l=0;l<e.length;l++)r+=String.fromCharCode(e[l]);const i=encodeURIComponent(r);return btoa(i)}function E(t){const e=atob(t),r=decodeURIComponent(e),i=new Uint8Array(r.length);for(let n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return i.buffer}exports.aTagDownloadFile=y;exports.arrayBufferToBase64=C;exports.base64ToArrayBuffer=E;exports.base64ToBlob=j;exports.exportFile=L;exports.filesHandle=F;exports.getExcelFile=b;exports.getExcelFile2=B;exports.getFile=c;exports.getImgFile=v;exports.getImgFile2=T;exports.getInputFile=m;exports.getPdfFile=P;exports.getPdfFile2=R;exports.getVideoFile=w;exports.getVideoFile2=U;exports.getXmlFile=A;exports.getXmlFile2=I;exports.getZipFile=S;exports.getZipFile2=z;exports.readFileAs=o;
