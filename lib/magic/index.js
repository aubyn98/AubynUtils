"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});function h(t,r,u,n){return t.addEventListener(r,u,n),()=>t.removeEventListener(r,u)}function d(t,r,u){t.removeEventListener(r,u)}function w(t,r){let u=null;n.stop=()=>u&&clearTimeout(u);function n(){for(var o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];n.stop(),u=setTimeout(()=>{t.apply(this,e)},r)}return n}function v(t,r){let u=null,n=[];o.stop=()=>{if(u){var e;(e=n.shift())===null||e===void 0||e("cancel"),clearTimeout(u)}};function o(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return new Promise((g,p)=>{o.stop(),n.push(p),u=setTimeout(()=>{g(t.apply(this,i))},r)})}return o}function A(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n;return u?function(){if(!n){n=!0;for(var o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];typeof t=="function"&&t.apply(this,e),setTimeout(()=>{n=!1},r)}}:function(){for(var o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];n||(n=!0,setTimeout(()=>{n=!1,typeof t=="function"&&t.apply(this,e)},r))}}function T(){for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];if(r.some(n=>typeof n!="function"))throw new TypeError("compose 参数必须是函数");return r.length===0?function(){for(var n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return o.length===1?o[0]:o}:r.reduce((n,o)=>function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o.call(this,()=>n.apply(this,i),...i)})}function b(){for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];if(r.some(n=>typeof n!="function"))throw new TypeError("composeAsync 参数必须是函数");return r.length===0?async function(){for(var n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return o.length===1?o[0]:o}:r.reduce((n,o)=>async function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return o.call(this,async()=>n.apply(this,i),...i)})}function E(){for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];if(r.some(n=>typeof n!="function"))throw new TypeError("pipe 参数必须是函数");return r.length===0?function(){for(var n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return o.length===1?o[0]:o}:r.reduce((n,o)=>function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return n.call(this,()=>o.apply(this,i),...i)})}function L(){for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];if(r.some(n=>typeof n!="function"))throw new TypeError("pipeAsync 参数必须是函数");return r.length===0?async function(){for(var n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return o.length===1?o[0]:o}:r.reduce((n,o)=>async function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return n.call(this,async()=>o.apply(this,i),...i)})}function I(t){return navigator.clipboard.writeText(t)}function c(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return!Array.isArray(r)&&typeof r=="object"&&(r=[r]),console.info(t,...r.map(u=>Object.keys(u).map(n=>`${n.replace(/([A-Z])/g,o=>"-"+o.toLocaleLowerCase())}:${u[n]}`).join(";")))}c.success=function(t){c("%c"+t,{background:"green",color:"white",padding:"8px",margin:"4px"})};c.error=function(t){c("%c"+t,{background:"rgb(41, 0, 0)",color:"rgb(255, 128, 128)",padding:"8px",margin:"4px"})};const l={interval:{set:setInterval,clear:clearInterval},timeout:{set:setTimeout,clear:clearTimeout}};function s(t){return function(){for(var r=arguments.length,u=new Array(r),n=0;n<r;n++)u[n]=arguments[n];let o=l[t].set.call(window||global,...u);function e(){l[t].clear.call(window||global,o),o=null}return e.timerId=o,e}}const x=s("interval"),F=s("timeout");function y(t){const r=t.match(/function\s*?.*?\s*?\((.*)?\)\s*?\{/),u=r[0].length,n=r[1]?r[1].split(","):null,o=t.slice(u,-1);return n?new Function(...n,o):new Function(o)}const m=function(){return requestIdleCallback||(requestAnimationFrame?t=>{const r=Date.now();return requestAnimationFrame(()=>{t({timeRemaining(){return 16.6+r-Date.now()}})})}:t=>setTimeout(()=>{const r=performance.now();t({timeRemaining(){return 10+r-performance.now()}})},1e3))}();function f(t){return m(r=>{r.timeRemaining()>0?t():f(t)})}function R(t,r){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e=>{m(i=>{e(()=>i.timeRemaining()>0)})};if(typeof t=="number"&&(t={length:t}),t.length===0)return;let n=0;function o(){n>=t.length||u(e=>{for(;e()&&n<t.length;)r(t[n],n,t),n++;o()})}o()}exports._setInterval=x;exports._setTimeout=F;exports.addEventListener=h;exports.compose=T;exports.composeAsync=b;exports.convertFn=y;exports.copyText=I;exports.debounce=w;exports.debouncePromise=v;exports.idleHandle=m;exports.idleRunTask=f;exports.log=c;exports.performChunk=R;exports.pipe=E;exports.pipeAsync=L;exports.removeEventListener=d;exports.throttle=A;
